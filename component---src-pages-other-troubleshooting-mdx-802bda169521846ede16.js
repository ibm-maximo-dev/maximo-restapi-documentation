"use strict";(self.webpackChunkmas_playbook=self.webpackChunkmas_playbook||[]).push([[7834],{3624:function(e,t,a){a.d(t,{Z:function(){return E}});var n=a(7294),l=a(8650),o=a.n(l),r=a(1597),i=a(811),s=a(87),c=a(5900),g=a.n(c),m=function(e){var t,a=e.title,l=e.theme,o=e.tabs,r=void 0===o?[]:o;return n.createElement("div",{className:g()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=r.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===l,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},d=function(e){var t=e.relativePagePath,a=e.repository,l=(0,r.useStaticQuery)("1364590287").site.siteMetadata.repository,o=a||l,i=o.baseUrl,s=o.subDirectory,c=i+"/edit/"+o.branch+s+"/src/pages"+t;return i?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:c},"Edit this page on GitHub"))):null},h=a(4703),u=a(1721),p=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,l=e.slug,i=l.split("/").filter(Boolean).slice(-1)[0],s=a.map((function(e){var t,a=o()(e,{lower:!0,strict:!0}),s=a===i,c=new RegExp(i+"/?(#.*)?$"),m=l.replace(c,a);return n.createElement("li",{key:e,className:g()((t={},t["PageTabs-module--selected-item--aBB0K"]=s,t),"PageTabs-module--list-item--024o6")},n.createElement(r.Link,{className:"PageTabs-module--link--Kz-7R",to:""+m},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},s))))))},t}(n.Component),b=p,f=a(7296),w=a(5387),k=a(3732),y=function(e){var t=e.date,a=new Date(t);return t?n.createElement(k.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(k.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},E=function(e){var t=e.pageContext,a=e.children,l=e.location,c=e.Title,g=t.frontmatter,u=void 0===g?{}:g,p=t.relativePagePath,k=t.titleType,E=u.tabs,v=u.title,N=u.theme,T=u.description,x=u.keywords,P=u.date,C=(0,w.Z)().interiorTheme,q=(0,r.useStaticQuery)("2456312558").site.pathPrefix,O=q?l.pathname.replace(q,""):l.pathname,S=E?O.split("/").filter(Boolean).slice(-1)[0]||o()(E[0],{lower:!0}):"",L=N||C;return n.createElement(s.Z,{tabs:E,homepage:!1,theme:L,pageTitle:v,pageDescription:T,pageKeywords:x,titleType:k},n.createElement(m,{title:c?n.createElement(c,null):v,label:"label",tabs:E,theme:L}),E&&n.createElement(b,{title:v,slug:O,tabs:E,currentTab:S}),n.createElement(f.Z,{padded:!0},a,n.createElement(d,{relativePagePath:p}),n.createElement(y,{date:P})),n.createElement(h.Z,{pageContext:t,location:l,slug:O,tabs:E,currentTab:S}),n.createElement(i.Z,null))}},5211:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return i},default:function(){return g}});var n=a(3366),l=(a(7294),a(4983)),o=a(3624),r=["components"],i={},s={_frontmatter:i},c=o.Z;function g(e){var t=e.components,a=(0,n.Z)(e,r);return(0,l.kt)(c,Object.assign({},s,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"The REST api leverages primarily the ",(0,l.kt)("inlineCode",{parentName:"p"},"integration")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"oslc")," loggers for the api framework part. Enabling those 2 loggers to DEBUG or INFO will provide a good amount of debugging information. However, the rest apis will always interface with Maximo business objects and other maximo artifacts - security, scripting etc which will have their own loggers. On top of that, we will often need to enable the sql loggers whenever we feel the query result is not what the filter clause described."),(0,l.kt)("p",null,"One good way to debug this thing may be to use the thread logging functionality which is integrated with the rest api framework."),(0,l.kt)("p",null,"Thread logging is enabled on a per user basis within the rest api scope. This can be done from the maximo ",(0,l.kt)("inlineCode",{parentName:"p"},"Logging application -> Configure Custom logging -> Thread logging"),". Choose the context name as ",(0,l.kt)("inlineCode",{parentName:"p"},"OSLC")," and the user name as the ",(0,l.kt)("inlineCode",{parentName:"p"},"personid")," of the user whose REST requests we want to track/debug. Next we can enable the logging with say - sql, oslc and integration loggers to start with."),(0,l.kt)("p",null,"This same step of enabling the thread logging can also be done by the user himself with the help of the rest api."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"POST /oslc/log/enablelogs\n")),(0,l.kt)("p",null,"Body:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'[\n  "log4j.logger.maximo.sql",\n  "log4j.logger.maximo.oslc",\n  "log4j.logger.m aximo.integration"\n]\n')),(0,l.kt)("p",null,"This will enable the thread logging for the current logged in user for the loggers sql,oslc and integration. There is another api ",(0,l.kt)("inlineCode",{parentName:"p"},"/oslc/log/enablealllogs")," that enables all logger for this user. We recommend not setting that one right away as it would generate a tonne of log which may make it hard to debug. We can disable this logging by making the call below:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"POST  /oslc/log/disablealllogs\n<no request body needed>\n")),(0,l.kt)("p",null,"As we make the requests with this setup for the desired user, the system keeps track of all the oslc, integration and sql logs generated for that user only. It will not mix the logs with other users or other contexts (other than OSLC) that may also generate logs."),(0,l.kt)("p",null,"This log can then be accessed using a rest api call ",(0,l.kt)("inlineCode",{parentName:"p"},"GET /oslc/log"),". This will stream the log to the browser. This log is only for the user who was targeted with thread logging setup and can be accessed by only that user and only for that logged in user session. Once the session is done, this log can still be accessed by the server admin from the serverâ€™s working directory. That would be a manual process - no rest api for that."))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-other-troubleshooting-mdx-802bda169521846ede16.js.map