"use strict";(self.webpackChunkmas_playbook=self.webpackChunkmas_playbook||[]).push([[259],{3624:function(e,t,a){a.d(t,{Z:function(){return v}});var s=a(7294),o=a(8650),r=a.n(o),n=a(1597),l=a(811),i=a(87),c=a(5900),h=a.n(c),m=function(e){var t,a=e.title,o=e.theme,r=e.tabs,n=void 0===r?[]:r;return s.createElement("div",{className:h()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=n.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===o,t))},s.createElement("div",{className:"bx--grid"},s.createElement("div",{className:"bx--row"},s.createElement("div",{className:"bx--col-lg-12"},s.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},u=function(e){var t=e.relativePagePath,a=e.repository,o=(0,n.useStaticQuery)("1364590287").site.siteMetadata.repository,r=a||o,l=r.baseUrl,i=r.subDirectory,c=l+"/edit/"+r.branch+i+"/src/pages"+t;return l?s.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},s.createElement("div",{className:"bx--col"},s.createElement("a",{className:"EditLink-module--link--IDrl1",href:c},"Edit this page on GitHub"))):null},d=a(4703),p=a(1721),w=function(e){function t(){return e.apply(this,arguments)||this}return(0,p.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,o=e.slug,l=o.split("/").filter(Boolean).slice(-1)[0],i=a.map((function(e){var t,a=r()(e,{lower:!0,strict:!0}),i=a===l,c=new RegExp(l+"/?(#.*)?$"),m=o.replace(c,a);return s.createElement("li",{key:e,className:h()((t={},t["PageTabs-module--selected-item--aBB0K"]=i,t),"PageTabs-module--list-item--024o6")},s.createElement(n.Link,{className:"PageTabs-module--link--Kz-7R",to:""+m},e))}));return s.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},s.createElement("div",{className:"bx--grid"},s.createElement("div",{className:"bx--row"},s.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},s.createElement("nav",{"aria-label":t},s.createElement("ul",{className:"PageTabs-module--list--xLqxG"},i))))))},t}(s.Component),b=w,f=a(7296),g=a(5387),k=a(3732),y=function(e){var t=e.date,a=new Date(t);return t?s.createElement(k.X2,{className:"last-modified-date-module--row--XJoYQ"},s.createElement(k.sg,null,s.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},v=function(e){var t=e.pageContext,a=e.children,o=e.location,c=e.Title,h=t.frontmatter,p=void 0===h?{}:h,w=t.relativePagePath,k=t.titleType,v=p.tabs,E=p.title,x=p.theme,T=p.description,N=p.keywords,j=p.date,P=(0,g.Z)().interiorTheme,S=(0,n.useStaticQuery)("2456312558").site.pathPrefix,q=S?o.pathname.replace(S,""):o.pathname,O=v?q.split("/").filter(Boolean).slice(-1)[0]||r()(v[0],{lower:!0}):"",M=x||P;return s.createElement(i.Z,{tabs:v,homepage:!1,theme:M,pageTitle:E,pageDescription:T,pageKeywords:N,titleType:k},s.createElement(m,{title:c?s.createElement(c,null):E,label:"label",tabs:v,theme:M}),v&&s.createElement(b,{title:E,slug:q,tabs:v,currentTab:O}),s.createElement(f.Z,{padded:!0},a,s.createElement(u,{relativePagePath:w}),s.createElement(y,{date:j})),s.createElement(d.Z,{pageContext:t,location:o,slug:q,tabs:v,currentTab:O}),s.createElement(l.Z,null))}},1951:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return l},default:function(){return h}});var s=a(3366),o=(a(7294),a(4983)),r=a(3624),n=["components"],l={},i={_frontmatter:l},c=r.Z;function h(e){var t=e.components,a=(0,s.Z)(e,n);return(0,o.kt)(c,Object.assign({},i,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The rest apis describe the resource using json schema standards. Maximo metadata contains more information than json schema supports. Hence we extend that schema specification with Maximo specific properties that contains more information from the Maximo metadata.\nSchema’s can be accessed in couple of ways using the rest api. We have a “jsonschemas” route that provides schema to any Object Structure. An example below shows that:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET /oslc/jsonschemas/mxapiwodetail\n")),(0,o.kt)("p",null,"This will return the json schema for the root object of the Object structure and will also contain links to the child objects like INVRESERVE etc. To get the schema for all the objects in the OS we need to include the request parameter ",(0,o.kt)("inlineCode",{parentName:"p"},"oslc.select=*"),". This will fetch all the child objects inline into the root object schema while retaining the hierarchy structure."),(0,o.kt)("p",null,"Note also that the properties in the schema map to the Mbo attributes (which are included as part of the OS). They also have the json schema type as well as the “ubtype” that has the more specific Maximo type."),(0,o.kt)("p",null,"Additionally you can also specify the oslc.select clause to filter out the part of the Object structure you need. An example is shown below:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET /oslc/jsonschemas/mxapiwodetail?oslc.select=wonum,status,invreserve{*}\n")),(0,o.kt)("p",null,"It will give you the details about the workorder wonum and status attributes and all attributes from the invreserve child object."),(0,o.kt)("p",null,"There is another popular way to get the schema while you are fetching details in a collection query. The query below is a simple collection query"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET /oslc/os/mxwodetail?oslc.select=wonum,status,description,invreserve{itemnum},asset.assetnum,asset.status\n")),(0,o.kt)("p",null,"Now say in addition to fetching the workorder records, I wanted the schema for this oslc.select clause that is fetching part details from workorder (wonum etc), part from invreserve and part from asset (which is not even part of the OS) using the dot notation. To do that all we need to do is to add the query parameter addschema=1 to the request url. By doing that the response json objects “responseInfo” property will have the schema inlined inside it. This is like getting the data as well as the metadata al in the same rest api call. Note that this schema will not be fetched for the next page request as the next page url will not have the addschema=1 in the uri. However if you add that query parameter explicitly, it will fetch the schema for any page."),(0,o.kt)("p",null,"We added the support for mbo schemas too. This is critical for use cases where we fetch a related mboset using the rest api without using the responseos query parameter. For example say we wanted to evaluate the getList api for an attribute - say status for a given workorder. The api below will do the job"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET /oslc/os/mxapiwodetail/{id}/getlist~status?oslc.select=*\n")),(0,o.kt)("p",null,"This will return the possible list of status values for that workorder state. Now the response is a serialized version of the synonymdomain Mbo and is not an Object Structure. If we wanted to have a schema for the response, we can add the query parameter &addschema=1 and that will work for the response mboset without needing to set it as an Object Structure."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET /oslc/os/mxapiwodetail/{id}/getlist~status?oslc.select=*&addschema=1\n")),(0,o.kt)("p",null,"This Mbo schema can also be accessed standalone using the route jsonmboschemas. A sample call is shown below:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET /oslc/jsonmboschemas/asset?oslc.select=assetnum,status,location.description,location.status,rel.openwo{wonum,status}\n")),(0,o.kt)("p",null,"This will return the json schema for asset Mbo with the attributes assetnum and status along with the related attributes from location and workorder (using the rel.openwo)."),(0,o.kt)("p",null,"When we access some relation as a Mbo(Set), we can apply json schemas there too without needing to use an Object structure for this. A sample below will show the use case"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET /oslc/os/mxapipo/{rest id}/vendor?addschema=1&oslc.select=*\n")),(0,o.kt)("p",null,"Here we are accessing the related vendor for the PO and we are not using any responseos query param to render the response to as an OS and yet we can access the schema of the “vendor” (which is the companies mbo)."))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-jsonschema-jsonschema-mdx-506a442375f227d5ae0f.js.map