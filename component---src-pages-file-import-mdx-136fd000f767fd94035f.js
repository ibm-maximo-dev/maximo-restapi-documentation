"use strict";(self.webpackChunkmas_playbook=self.webpackChunkmas_playbook||[]).push([[9975],{3624:function(e,t,a){a.d(t,{Z:function(){return w}});var n=a(7294),r=a(8650),l=a.n(r),i=a(1597),o=a(811),s=a(87),c=a(5900),u=a.n(c),m=function(e){var t,a=e.title,r=e.theme,l=e.tabs,i=void 0===l?[]:l;return n.createElement("div",{className:u()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=i.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===r,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},p=function(e){var t=e.relativePagePath,a=e.repository,r=(0,i.useStaticQuery)("1364590287").site.siteMetadata.repository,l=a||r,o=l.baseUrl,s=l.subDirectory,c=o+"/edit/"+l.branch+s+"/src/pages"+t;return o?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:c},"Edit this page on GitHub"))):null},d=a(4703),h=a(1721),f=function(e){function t(){return e.apply(this,arguments)||this}return(0,h.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,r=e.slug,o=r.split("/").filter(Boolean).slice(-1)[0],s=a.map((function(e){var t,a=l()(e,{lower:!0,strict:!0}),s=a===o,c=new RegExp(o+"/?(#.*)?$"),m=r.replace(c,a);return n.createElement("li",{key:e,className:u()((t={},t["PageTabs-module--selected-item--aBB0K"]=s,t),"PageTabs-module--list-item--024o6")},n.createElement(i.Link,{className:"PageTabs-module--link--Kz-7R",to:""+m},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},s))))))},t}(n.Component),g=f,E=a(7296),b=a(5387),k=a(3732),N=function(e){var t=e.date,a=new Date(t);return t?n.createElement(k.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(k.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},w=function(e){var t=e.pageContext,a=e.children,r=e.location,c=e.Title,u=t.frontmatter,h=void 0===u?{}:u,f=t.relativePagePath,k=t.titleType,w=h.tabs,T=h.title,y=h.theme,v=h.description,P=h.keywords,A=h.date,x=(0,b.Z)().interiorTheme,S=(0,i.useStaticQuery)("2456312558").site.pathPrefix,M=S?r.pathname.replace(S,""):r.pathname,R=w?M.split("/").filter(Boolean).slice(-1)[0]||l()(w[0],{lower:!0}):"",I=y||x;return n.createElement(s.Z,{tabs:w,homepage:!1,theme:I,pageTitle:T,pageDescription:v,pageKeywords:P,titleType:k},n.createElement(m,{title:c?n.createElement(c,null):T,label:"label",tabs:w,theme:I}),w&&n.createElement(g,{title:T,slug:M,tabs:w,currentTab:R}),n.createElement(E.Z,{padded:!0},a,n.createElement(p,{relativePagePath:f}),n.createElement(N,{date:A})),n.createElement(d.Z,{pageContext:t,location:r,slug:M,tabs:w,currentTab:R}),n.createElement(o.Z,null))}},378:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return o},default:function(){return u}});var n=a(3366),r=(a(7294),a(4983)),l=a(3624),i=["components"],o={},s={_frontmatter:o},c=l.Z;function u(e){var t=e.components,a=(0,n.Z)(e,i);return(0,r.kt)(c,Object.assign({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"We support uploading data from flat file or xml file to Maximo by restful API ",(0,r.kt)("inlineCode",{parentName:"p"},"action=importfile"),", which leverages with Application Import capability in classic Maximo."),(0,r.kt)("h2",null,"Prepare Object Structure"),(0,r.kt)("p",null,"For import using the XML format, we do not need any special configuration to the Object Structure. For Flat file support, similar with the Application Import in Maximo, we need to configure Object Structure to support flat structure. This implies there shouldn’t be any alias conflict for that specific Object Structure.\nTo verify that, find your target Object Structure, like MXAPIMETER in Object Structure Application. Make sure Support Flat Structure is checked and no alias conflict is detected by the system (this should be indicated by Alias Conflict checkbox is unchecked).\nIf there are any conflicted fields, find Add/Modify Alias from action list. Add new alias to conflicted field starting from first child object.\nThe rest of this section will focus on flat files. XML files would be exactly similar with a different header value."),(0,r.kt)("h2",null,"Security"),(0,r.kt)("p",null,"There is no special requirement on security - it just follows the normal Object structure security concepts. This implies that you got to have support for INSERT/SAVE/DELETE sigoptions (for your corresponding security application for the Object structure) to be able to import csv files."),(0,r.kt)("h2",null,"Prepare CSV"),(0,r.kt)("p",null,"The CSV format is exactly the same as what you would use in maximo classical application import. This implies when we try to import file from CSV, the attribute name of each field must match with attribute alias in Maximo."),(0,r.kt)("p",null,"For example, the csv file content can be as following"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"METERNAME,METERTYPE,READINGTYPE,DESCRIPTION,MEASUREUNITID RUNHOURS2,CONTINUOUS,DELTA,Run Hours2,HOURS\nTEMP-F2,GAUGE,,Temperature in Fahrenheit2,DEG F\n")),(0,r.kt)("h2",null,"Preview"),(0,r.kt)("p",null,"Before processing the data into the database, it is always better to check if there is any error by using preview functionality. It is supported in import file API. Here is the sample:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST oslc/os/mxapimeter?action=importfile&lean=1 \nmaxauth:<base64 encoded user:password>\npreview:1\n")),(0,r.kt)("p",null,"Body:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"METERNAME,METERTYPE,READINGTYPE,DESCRIPTION,MEASUREUNITID RUNHOURS2,CONTINUOUS,DELTA,Run Hours2,HOURS\nTEMP-F2,GAUGE,,Temperature in Fahrenheit2,DEG F\n")),(0,r.kt)("p",null,"After we make the POST request to server, maximo will return the preview response which is including the validation information and warning messages."),(0,r.kt)("p",null,"Here is the sample with error message:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "invaliddoc": 2,// how many invalid records \n  "totaldoc": 2,//how many records in csv file in total \n  "validdoc": 0,//how many valid records\n  "warningmsg": "\\nBMXAA5598E - Processing of an inbound transaction failed. The processing exception is identified in document 1.\\n\\tBMXAA0024E - The action ADD is not allowed on object METER. Verify the business rules for the object and define the appropriate action for the object.\\nBMXAA5598E - Processing of an inbound transaction failed. The processing exception is identified in document 2.\\n\\tBMXAA0024E - The action ADD is not allowed on object METER. Verify the business rules for the object and define the appropriate action for the object." //the error messages for each record.\n}\n')),(0,r.kt)("p",null,"We can tell what is the problem from warning messages then fix it. In the sample error responses, we can tell the issue is caused by missing the security setup. After granting the sigoptions and reprocess the call, the successful preview will look like following,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "invaliddoc": 0,\n  "totaldoc": 2,\n  "validdoc": 2,\n  "warningmsg": ""\n}\n')),(0,r.kt)("h2",null,"File Import"),(0,r.kt)("p",null,"After preview, we can import the file to maximo by removing preview header from request:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"POST oslc/os/mxapimeter?action=importfile&lean=1\n")),(0,r.kt)("p",null,"Body:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csv"},"METERNAME,METERTYPE,READINGTYPE,DESCRIPTION,MEASUREUNITID RUNHOURS2,CONTINUOUS,DELTA,Run Hours2,HOURS\nTEMP-F2,GAUGE,,Temperature in Fahrenheit2,DEG F\n")),(0,r.kt)("p",null,"And we can get response as following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "validdoc": 2\n}\n')),(0,r.kt)("p",null,"We also support other file type like XML, customized delimiter and textqualifier. You can easily configure them with the following headers when you do the POST call."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Header"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"filetype"),(0,r.kt)("td",{parentName:"tr",align:null},"The type of the uploading file, it can be FLAT or XML"),(0,r.kt)("td",{parentName:"tr",align:null},"FLAT")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"delimiter"),(0,r.kt)("td",{parentName:"tr",align:null},"The delimiter of csv file"),(0,r.kt)("td",{parentName:"tr",align:null},",")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"textqualifier"),(0,r.kt)("td",{parentName:"tr",align:null},"When the data include any delimiter, it will be wrapped by textqualifier"),(0,r.kt)("td",{parentName:"tr",align:null},"”")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"preview"),(0,r.kt)("td",{parentName:"tr",align:null},"If the importfile API is running in preview mode. It can be 0 or 1"),(0,r.kt)("td",{parentName:"tr",align:null},"0")))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-file-import-mdx-136fd000f767fd94035f.js.map